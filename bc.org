#+TITLE: Tests of the bc program
#+TESTY: TAG="bc" 
#+TESTY: PROGRAM="bc -iq" 
#+TESTY: ECHOING="input"

* Addition and Multiplication
Some add/multiply tests
#+BEGIN_SRC text
>> 1+1
2
>> 3+4
7
>> 9*2+3
21
#+END_SRC

* Subtraction
Some subtraction tests
#+BEGIN_SRC sh
>> 1-1
0
>> 6-3
3
>> 9-3
5
>> 10-8
2
#+END_SRC

* Subtraction Interactive
Some subtraction tests
Additional comments
#+TESTY: program="bc -i"
#+BEGIN_SRC sh
bc 1.07.1
Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006, 2008, 2012-2017 Free Software Foundation, Inc.
This is free software with ABSOLUTELY NO WARRANTY.
For details type `warranty'. 
>> 1-1
0
>> 6-3
3
>> 9-3
6
>> 10-8
2
#+END_SRC


* Combined
Subtraction first
#+BEGIN_SRC sh
>> 1-1
0
>> 6-3
3
>> 9-3
6
>> 10-8
2
#+END_SRC

Then add multiply
#+BEGIN_SRC sh
>> 1+1
2
>> 3+4
7
>> 9*2+3
21
#+END_SRC

* bash tests for bc
#+TESTY: program="bash -v" 
#+TESTY: prompt="bash>" 
#+TESTY: echoing="input"
#+TESTY: post_filter=""
#+TESTY: use_valgrind='0'

#+BEGIN_SRC sh
bash> echo hello
hello
bash> echo '1+1' | bc -q
2
bash> echo '1+1' | bc -q > xxx
bash> cat xxx
2
bash> printf "1+1\nquit\n" > test-results/input.tmp
bash> bc -iq < test-results/input.tmp
1+1
2
quit
#+END_SRC
